var adlCreative=function(){var t=this;return t.state=0,t.readyStack=[],t.images={},t.fonts={},t.orphans={},t.rules={},t};window._$=adlCreative,_$.fn=_$.prototype,window._adl=_$,_$.fn.init=function(t){((t="string"==typeof(t=t||{})?JSON.parse(atob(t)):t).timeline?_loadTimeline:_loadScenes)();var e=$.d,n=this;n.state="init",$.log("Init"),n.sheet=$.makeSheet(),n.size=t.size,n.format=t.formatid||"1",n.clickTags=t.clickTags||{main_exit:"Default Landing Page"},n.version_data=t.version_data||{},n.objcount=+new Date,n.responsive=t.responsive||0,n.obj=t.obj||{},$.dict=t.dict||{},n.prep(t);var r=n.orphans;if(t.obj)for(var a in t.obj)if(t.obj.hasOwnProperty(a)){var i=$.mkObject(a,t.obj[a]);if("adl--stage"==a&&(i.style.opacity=0,n.stage=i,$(i).style(t.size)),r&&r[a]){for(var s,o,f=[],l=0;l<r[a].length;l++)i.firstChild.appendChild(r[a][l]),f.push(r[a][l].dataset.key);for(s in f)f.hasOwnProperty(s)&&(o=f[s],$.undef(n.obj[o].zorder)||$(n.obj[o].elnode).zorder(n.obj[o].zorder));delete r[a]}}for(a in r){for(l=0;l<r[a].length;l++)$(r[a][l]).parent("adl--stage");delete r[a]}for($(n.stage).addClass(n.format),n.mo=0,$(n.stage).on("mouseover",function(){$.cr.mo||(this.parentNode.classList.add("mouseover"),EvBus.send("mouseover")),$.cr.mo++}).on("mouseout",function(){$.cr.mo--,$.cr.mo||(this.parentNode.classList.remove("mouseover"),EvBus.send("mouseout"))}),e.body.appendChild(n.stage),$(e.body).on("click",$.exit),$.log("Preparing!");n.readyStack.length;)n.readyStack.shift().call();$.log("On-Load Scripts Executed...!"),n._waitload()},_$.fn._waitload=function(){$.okeys($.cr.images).length?setTimeout($.cr._waitload,25):$.cr._ready()},_$.fn._ready=function(){EvBus.send("ready"),!(this.state="Ready")!==this.autoplay&&this.run()},_$.fn.getVersionData=function(t){return this.version_data[t]},_$.fn.versionData=function(t,e){if($.undef(e))return this.version_data[t]||"";this.version_data[t]=e},_$.fn.prop=function(t,e){if($.undef(e))return this[t];this[t]=e},_$.fn.getStage=function(){return this.stage},_$.fn.getObjData=function(t){return this.obj[t]};var adl=function(t){return new adlayer(t)},adlayer=function(t){var e=this;if(!(e instanceof adlayer))return new adlayer(t);if(e.length=0,e.nodes=[],t instanceof HTMLElement?e.nodes=[t]:t instanceof NodeList?e.nodes=1<t.length?[].slice.call(t):[t]:"string"==typeof t&&(e.nodes=[].slice.call($.d.querySelectorAll(t))),e.nodes.length){e.length=this.nodes.length;for(var n=0;n<e.nodes.length;n++)e[n]=e.nodes[n]}return e};adl.fn=adlayer.prototype,window.adl=adl,window.$=adl,void 0!==adlCreative&&($.cr=new adlCreative),$.d=document,$.undef=function(t){return void 0===t},$.pf=window.parseFloat,$.okeys=function(t){return Object.keys(t)},$.log=function(t){},$.now=function(){return+Date.now()},$.gc=function(t){return t.firstChild},$.ac=function(t,e){t.appendChild(e)},$.pfx=function(){var t=window.getComputedStyle($.d.documentElement,"");return $.undef(t.animation)?"-webkit-":""}(),$.ruleIndex={obj:"",ct:">.adl-obj-content"},$.ctstyles=/border|background|padding|opacity/,$.dict={},$.isIE=function(){return"Microsoft Internet Explorer"==navigator.appName||!(!navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/rv:11/))||!1},$.cssify=function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},$.vd=function(t,e){return $.cr.versionData(t,e)},$.fn.map=function(t){for(var e=[],n=0;n<this.length;n++)e.push(t.call(this[n],this,n));return e},$.fn.each=function(t){return this.map(t),this},$.apply=function(){for(var t={},e=0;e<arguments.length;e++)t=$.assign(t,arguments[e]||{});return t},$.assign=function(t,e,n){for(var r in e)e.hasOwnProperty(r)&&("object"!=typeof e[r]||Array.isArray(e[r])?t[r]=e[r]:n&&isEmpty(e[r])&&t[r]?delete t[r]:("object"!=typeof t[r]&&(t[r]={}),t[r]=$.assign(t[r]||{},e[r],n)));return t},$.makeSheet=function(){var t,e=this.mkKey(),n=$.mkEl("style");for(t in n.type="text/css",n.title=e,$.ac($.d.head,n),$.d.styleSheets)if($.d.styleSheets[t].title==e)return $.d.styleSheets[t];return!1},$.mkEl=function(t){return t=t||"div",$.d.createElement(t)},$.fn.el=function(t,e){return t?$.undef(e)?this[0][t]:void(this[0][t]=e):this[0]},$.fn.copyEl=function(t,e){return e=e||!1,this.each(function(){$.ac(t,this.cloneNode(e))})},$.get=function(t){return $.cr.obj[t]?$('.adl-obj[data-key="'+t+'"]'):$(t)},$.select=function(t){return"#"==t[0]?$.d.getElementById(t.substr(1)):$(t)[0]},$.fn.rmEl=function(){return this.remove()},$.fn.remove=function(){return this.each(function(){var t=this.dataset.key;t?$.cr.removeObject(t):this.parentNode.removeChild(this)})},$.fn.parent=function(t){if($.undef(t))return $.getObj(this[0].parentNode);var e;if("number"==typeof t||"string"==typeof t){if(t=parseInt(t)||t,e=$.get(t),$(this[0]).data("group",t),!e.length){var n=$.cr.getObjData(t,1);if(!n||!n.elnode){var r=$.cr.orphans;return r[t]||(r[t]=[]),r[t].push(this[0]),this}e=$(n.elnode)}}else t instanceof HTMLElement&&(t=(e=$(t)).key(),this[0].dataset.group=t);return e.length&&$.ac($.gc(e[0]),this[0]),this},$.fn.children=function(t){if($.undef(t))return-1<["group","stage","container"].indexOf(this.type())?this.ctNode(1).childNodes:[];for(var e in t){var n;t.hasOwnProperty(e)&&(t[e].key=e,(n=$.mkObject(t[e])).dataset.group=this[0].id,$.ac($.gc(this[0]),n))}},$.fn.find=function(t){var e=this.map(function(){return[].slice.call(this.querySelectorAll(t))}),n=$();if(e.forEach(function(t){t.forEach(function(t){n.nodes.push(t)})}),n.nodes.length){n.length=n.nodes.length;for(var r=0;r<n.nodes.length;r++)n[r]=n.nodes[r]}return n},$.mkKey=function(){return $._keyb||($._keyb=+new Date),$._keyb++},$.mkObject=function(t,e,n){var r=e.type;if(r){$.cr.obj[t]={};var a=$.mkEl("div");a.dataset.key=t,$.cr.obj[t].elnode=a;var i=$(a);return i.addClass("adl-obj adl-obj-"+r+" adl-obj-"+t),"function"==typeof $.fn["mkObj_"+r]?$.fn["mkObj_"+r](i):$.addCtNode(i),"adl--stage"!==t&&(e.parent=e.parent||"adl--stage",n||$.undef($.vd(t))||(e[r]=$.vd(t))),this.build(i,e),a}return $.log("Error! Unknown object type."),!1},$.build=function(t,e,n){e.parent&&t.parent(e.parent);var r,a,i=e.type;for(r in e)e.hasOwnProperty(r)&&"parent"!==r&&r!==i&&(a=e[r],"function"==typeof t[r]?t[r](a,n):$.log("Error! Unknown parameter: "+r));e[i]&&"function"==typeof t[i]&&t[i](e[i])},$.addCtNode=function(t){var e=$.mkEl();$.ac(t[0],e),$(e).addClass("adl-obj-content")},$.fn.ctNode=function(t){var e=$.gc(this[0]);return t?e:$(e)},$.getObj=function(t){if($(t).hasClass("adl-creative"))return!1;for(;t&&!$(t).hasClass("adl-obj");){if(!t.parentNode)return!1;t=t.parentNode}return t},$.fn.key=function(){return this[0].dataset.key},$.fn.id=function(t,e){var n=$.cr.obj;"id"!==t&&(e=t);t=this.key();return $.undef(e)?t&&n[t]?n[t].id||"":this[0].id:(this[0].id=e,n[t].id=e,this)},$.fn.type=function(t){var e=$.cr.obj;if($.undef(t)){var n=this.key();return!(!n||!e[n])&&e[n].type}return this.each(function(){e[$(this).key()].type=t})},$.fn.attr=function(t,e){if($.undef(e)&&"string"==typeof t){var n=$.cr.getObjData([this.key()]);return n.attr=n.attr||{},n.attr[t]}var r={};return"object"!=typeof t?r[t]=e:r=t,this.each(function(){var t=$(this),t=$.cr.getObjData([t.key()]);t.attr=t.attr||{};var e,n=t.attr;for(e in r)n[e]=r[e],$.gc(this)[e]=r[e]})},$.fn.adlcls=function(t,a){if("string"==typeof t&&$.undef(a)){var e=this.key();return($.cr.getObjData(e).adlcls||{})[t]||!1}var i;return"string"==typeof t&&"string"==typeof a?(i=a,(a={})[t]=i):a=t,this.each(function(){var t,e=adl(this),n=e.key(),r=$.cr.getObjData(n);for(t in r.adlcls=r.adlcls||{},a)a.hasOwnProperty(t)&&((i=r.adlcls[t])&&e.rmClass("adl-"+i),r.adlcls[t]=a[t],e.addClass("adl-"+r.adlcls[t]))})},$.fn.objcls=function(t,e){var n=$.cr.obj;if("objcls"!==t&&(e=t),$.undef(e))return n[this.key()].objcls||"";var r,a=e.split(" ");for(r in a)a[r].length&&this[0].classList.add(a[r]);return n[this.key()].objcls=e,this},$.fn.addClass=function(t){var n=t.split(" ");return this.each(function(){var e=this;n.forEach(function(t){t.length&&e.classList.add(t)})})},$.fn.rmClass=function(t){var n=t.split(" ");return this.each(function(){var e=this;n.forEach(function(t){e.classList.remove(t)})})},$.fn.hasClass=function(t){return this[0].classList.contains(t)},$.fn.toggleClass=function(t){var n=t.split(" ");return this.each(function(){var e=this;n.forEach(function(t){e.classList.toggle(t)})})},$.mkCSS=function(e,t){var n=$.cr.sheet;if("object"==typeof t){var r,a="",i="";for(r in t){var s=$.cssify(r);i+=s.replace(/transform/g,"-webkit-transform").replace(/animation/g,"-webkit-animation")+": "+t[r]+";",i+=s+": "+t[r]+";",a+=s+": "+t[r]+";"}var o=e+" {"+i+"}";try{n.insertRule(o,n.cssRules.length)}catch(t){o=e+" {"+a+"}",n.insertRule(o,n.cssRules.length)}}else o=e+" {"+(t=t||"")+"}",n.insertRule(o,n.cssRules.length);return $.cr.sheet.cssRules[$.cr.sheet.cssRules.length-1]},$.fn.css=function(e,n){$.undef(n)||(n=":"+n),n=n||"",this.each(function(){var t=$.gc(this).tagName;$.mkCSS("#"+this.id+n+">"+t,e)})},$.pixPerc=function(t,e,n){var r=$.pf(t);return-1<t.indexOf("%")?(r=(n=$.pf(n))*(r/100)+e,$.pf((r/n*100).toFixed(3))+"%"):$.pf((r+e).toFixed(3))+"px"},$.fn.zorder=function(i,t){return("number"==typeof i||!$.undef(t))&&this.each(function(){var t,e=this,n=e.parentNode;if("number"==typeof i&&($.cr.getObjData(e.dataset.key).zorder=i),n)switch(i){case"bottom":n.insertBefore(e,$.gc(n));break;case"down":(t=e.previousSibling)&&n.insertBefore(e,t);break;case"up":(t=e.nextSibling)&&(t.nextSibling?n.insertBefore(e,t.nextSibling):$.ac(n,e));break;case"top":$.ac(n,e);break;default:e.dataset.z=i;for(var r=$.gc(n),a=0;r&&!a;)parseInt(r.dataset.z)>parseInt(i)?(n.insertBefore(e,r),a=!0):r=r.nextSibling;a||$.ac(n,e)}})},$.hash=function(t){var e=0;if(0==t.length)return e;for(var n=0;n<t.length;n++){e=(e<<5)-e+t.charCodeAt(n);e&=e}return Math.abs(e)},$.mkKeyframes=function(t,e){var n="";if("string"!=typeof e)for(var r in e)n+=r+" {"+e[r]+"} ";else n=e;var a="@"+$.pfx+"keyframes "+t+" {"+n+"}",n=n.replace(/transform/g,$.pfx+"transform").replace(/animation/g,$.pfx+"animation");try{$.cr.sheet.insertRule(a,$.cr.sheet.cssRules.length)}catch(t){}},$.fn.clicktag=function(t,e){if(t=t||"main_exit",$.undef(e))return $.vd(t)||"";$.vd(t,e)},$.exit=function(t){"string"!=typeof t&&(t=!1),t=t||"main_exit",t=$.vd(t)||"",$.log("Exit to: "+t),$.adserver.exit(t),$.cr.stop(),EvBus.send("exit")},$.fn.scripts=function(o){return this.each(function(){var t=$(this),e=t.key(),n=$.cr.obj[e];n.scripts=n.scripts||{};var r,a="_stage=$($.cr.stage);";for(r in o){var i,s=atob(o[r]).trim();s.length&&("__adlready"==r?(i="_this=$('#"+t.id()+"');"+a+s,$.cr.readyStack.push(new Function(i))):(i="e.stopPropagation();_this=$(this);"+a+s,n.scripts[r]=new Function("e",i),t.on(r,n.scripts[r])))}})},$.fn.mkObj_stage=function(t){t.addClass("adl--stage"),$.addCtNode(t);var e=$.mkEl();e.className="adl--stage-curtain",$.ac(t[0],e),$.ruleIndex.stage="",$.ruleIndex.curtain=">.adl--stage-curtain"},$.fn.flow=function(n,t){if("flow"==n&&(n=t),$.undef(n)){t=this.key();return $.cr.obj[t].flow||"absolute"}return this.each(function(){var t=$(this),e=t.key();$.cr.obj[e].flow=n,t.rmClass("adl-inline adl-relative"),-1<["inline","relative"].indexOf(n)&&t.addClass("adl-"+n)})},$.fn.mkObj_text=function(t){$.ruleIndex.txt=" .adl-text",t[0].innerHTML='<div class="adl-text-boxw adl-obj-content"><div class="adl-text-box"><p class="adl-text adl-txtnode"></p></div></div>'},$.fn.mkObj_btext=function(t){$.ruleIndex.btxt=".adl-btext",t.addClass("adl-txtnode adl-btext")},$.fn.textNode=function(t){var e="adl-txtnode",e=(this[0].classList.contains(e)?this:this.find("."+e))[0];return t?e:$(e)},$.fn.btext=function(t,e){return this.text(t,e)},$.fn.text=function(t,n){return"text"!=t&&"btext"!=t&&(n=t),$.undef(n)?$.vd(this.key()):this.each(function(){var t=$(this),e=t.key();$.vd(e,n),t.textNode(1).innerHTML=n})},$.fn.font=function(t){if($.undef(t))return this.style("fontFamily");var e;t.css&&!$.cr.fonts[t.id]&&($.select("#"+t.id)||((e=$.mkEl("link")).rel="stylesheet",e.type="text/css",e.href=t.css,$.isIE()&&(e.href+=(e.href.indexOf("?")<0?"?":"&")+"adl="+Date.now()),e.id=t.id,$.ac($.d.head,e)),$.cr.fonts[t.id]=t),this.data("font_id",t.id||t),this.style("fontFamily",t.family||t)},$.fn.autoSize=function(){return this.each(function(){function t(t){return Math.round(t.replace(/[^0-9\.]+/g,""))}var e=$(this).textNode(1).parentNode,n=window.getComputedStyle(e),r=t(n.width),a=t(n.height),i=this.dataset;if(i.twidth!=r||i.theight!=a){for(var s=100,o=window.getComputedStyle(this),f=t(o.width),l=t(o.height),c=!1;s<11||r<=f&&a<=l?c=!0:(s--,e.style.fontSize=s+"%",r=t((n=window.getComputedStyle(e)).width),a=t(n.height)),!c;);i.twidth=r,i.theight=a}})},$.fn.mkObj_svgshape=function(t){$.ruleIndex.svg=" path",t.el().innerHTML='<svg class="adl-obj-content" width="100%" height="100%" viewBox="0 0 120 120" preserveAspectRatio="none"><path/></svg>'},$.fn.svgshape=function(t,r){return"svgshape"!=t&&(r=t),$.undef(r)?$.vd(this.key()):(this.each(function(){var t,e,n=$(this);"svgshape"==n.type()&&($.vd(n.key(),r),e=t=120,3==(n=r.split(":")).length&&(t=n[0],e=n[1],r=n[2]),(n=$.gc(this)).setAttribute("viewBox","0 0 "+t+" "+e),$.gc(n).setAttribute("d",r))}),this)},$.fn.mkObj_video=function(t){var e=$.mkEl("video");e.className="adl-obj-content",e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),$.ac(t[0],e)},$.fn.video=function(t,e){return"video"!==t&&(e=t),$.undef(e)?JSON.parse($.vd(this.key())||"{}"):(this.each(function(){var t=$(this);"video"==t.type()&&("string"!=typeof e&&(e=JSON.stringify(e)),$.vd(t.key(),e),t.ctNode(1).src=e)}),this)},$.fn.videoplayer=function(){return this.find("video")[0]},$.fn.image=function(t,e){return"image"!=t&&(e=t),$.undef(e)?JSON.parse($.vd(this.key())||"{}"):(this.each(function(){var t=$(this);"image"==t.type()&&("string"!=typeof e&&(e=JSON.stringify(e)),$.vd(t.key(),e),t.loadImage())}),this)},$.fn.loadImage=function(){return this.each(function(){var t,e=$(this),n=e.key();try{var r=JSON.parse($.vd(n)).path}catch(t){r=$.vd(n)}r&&r.length?((t=new Image).dataset.key=n,t.src=r,$.cr.images[n]=1,t.onerror=function(){var t=$(this).key();$.log("Could not load image "+this.src),this.style.visibility="hidden",delete $.cr.images[t]},t.onload=function(){var t=$(this).key();delete $.cr.images[t]},$.gc(e[0]).style.backgroundImage="url("+r+")"):(this.style.visibility="hidden",delete $.cr.images[n])}),this},$.fn.on=function(t,e,n){return n=n||!1,this.each(function(){this.addEventListener(t,e,n)})},$.fn.off=function(t,e,n){return n=n||!1,this.each(function(){this.removeEventListener(t,e,n)})},$.fn.at=function(t,e){var n=Array.prototype.slice.call(arguments);n.splice(3,0,this),EvBus.add.apply(EvBus,n)};var AdlEventBus=function(){this.listeners={}};AdlEventBus.prototype={add:function(t,e,n){var r=3<(r=Array.prototype.slice.call(arguments)).length?r.splice(3,r.length-1):[];this.listeners[t]=this.listeners[t]||[],this.listeners[t].push({scope:n,callback:e,args:r})}};var EvBus=new AdlEventBus;function _loadTimeline(){var t,e;_$.fn.prep=function(t){window.raf=window.requestAnimationFrame||window.webkitRequestAnimationFrame;var e=this;$.fps=$.fps||30,e.timer={ls:0,ct:0,ss:0,rc:0,run:function(){this.r=1,this.rc||(this.ts=$.now(),this.ss=this.ts,this.rfi=window.raf(this.frame)),this.rc++},stop:function(){this.r=0},set:function(t){var e=this;e.ls=1e3*t,e.ct=e.ls,e.cf=Math.floor(e.ct/1e3*$.fps)},frame:function(t){t=$.now();var e,n=$.cr.timer;n.r&&(e=t-n.ts,n.ct+=e,n.cf=Math.floor(n.ct/1e3*$.fps),n.ef&&!$.cr.loop&&n.cf==n.ef?$.cr.end():n.lsf!=n.cf&&(n.lsf=n.cf,EvBus.send("frame",1))),n.ts=t,n.rfi=window.raf(n.frame)}},e.time=function(){return $.pf((($.cr.timer.cf||0)/$.fps).toFixed(2))},e.runtime=function(){return $.pf((($.cr.timer.ts-$.cr.timer.ss)/1e3).toFixed(2))},e.timeline=$.apply({duration:20,loops:1},t.timeline);var n=e.timeline;e.loop=$.pf(n.loops||0)-1,$.undef(n.endpoint)&&(n.endpoint=n.duration);var r=$.pf(n.endpoint),t=$.pf(n.duration);e.timer.ef=(r<t?r:t)*$.fps,e.ctrlclass=$.mkCSS("*",{"animation-fill-mode":"both","animation-delay":"0s","animation-iteration-count":n.loops||"infinite"});n=e.sheet.cssRules.length;e.sheet.insertRule("@"+$.pfx+"keyframes adlctrl {0% {opacity: 1;} 100% {opacity: 1;}}",n),"function"==typeof e.sheet.cssRules[n].appendRule?$.insRule="appendRule":$.insRule="insertRule",(t=document).addEventListener("animationend",function(t){"adlctrl"==t.animationName&&0<t.elapsedTime&&$.cr.end()}),t.addEventListener("animationiteration",function(t){"adlctrl"==t.animationName&&$.cr.doLoop()})},_$.fn.run=function(){var n=$.cr;if(!document.documentElement.clientWidth)return window.addEventListener("resize",n.run);window.removeEventListener("resize",n.run),n.ctrlclass.style.setProperty($.pfx+"animation-play-state","paused"),$(n.stage).style("animation-name","adlctrl").find(".adl-obj").buildTLRules(),"Ready"==n.state&&setTimeout(function(){var t,e=$(".adl-obj-text.adl-txtShrink");e.length&&((t=function(){e.autoSize()})(),setTimeout(t,500),setTimeout(t,1e3),setTimeout(t,3e3)),n.stage.style.opacity="",n.ctrlclass.style.setProperty($.pfx+"animation-duration",$.cr.timeline.duration+"s"),n.ctrlclass.style.setProperty($.pfx+"animation-play-state","running"),($.isIE()||$.safari&&$.safari<13)&&_$.reAnim(),$.cr.timer.run(),EvBus.send("start"),$.cr.play()},50)},$.safari=(t=navigator.userAgent,e=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],/trident/i.test(e[1])?0:(e=e[2]?[e[1],e[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=t.match(/version\/(\d+)/i))&&e.splice(1,1,t[1]),"Safari"!==e[0]?0:$.pf(e[1]))),$.safanim=((11<(e=$.safari)||10==e)&&(e=0),e?7==e?1:4:0),_$.reAnim=function(){$($.cr.stage).reAnimate(),$($.cr.stage).find(".adl-obj").reAnimate()},_$.tfactor=function(){return 6e4*$.safanim/$.cr.timeline.duration},_$.fn.goto=function(t){var e=this;$(e.stage);t<0?t=0:t>=e.timeline.duration&&(t=e.timeline.duration-.01),t=$.pf(t.toFixed(1)),e.timer.set(t);var n=1;$.safanim&&"stop"==$.cr.state&&(n=_$.tfactor()),e.ctrlclass.style.setProperty($.pfx+"animation-delay","-"+t*n+"s"),$.safanim&&e.ctrlclass.style.setProperty("animation-duration",e.timeline.duration*n+"s"),_$.reAnim(),EvBus.send("goto")},_$.fn.play=function(){var t,e=$.cr;"play"!=e.state&&(e.timer.run(),t=e.ctrlclass.style,"stop"==e.state&&$.safanim?(t.setProperty($.pfx+"animation-duration",e.timeline.duration+"s"),t.setProperty($.pfx+"animation-delay","-"+e.timer.ct/1e3+"s"),_$.reAnim()):t.setProperty("animation-play-state","running"),e.state="play",EvBus.send("play"))},_$.fn.stop=function(){var t,e,n=$.cr;"play"===n.state&&(n.timer.stop(),n.state="stop",t=n.ctrlclass.style,$.safanim?(e=_$.tfactor(),t.setProperty($.pfx+"animation-duration",n.timeline.duration*e+"s"),t.setProperty($.pfx+"animation-delay","-"+n.timer.ct/1e3*e+"s"),_$.reAnim()):t.setProperty("animation-play-state","paused"),EvBus.send("stop"))},_$.fn.end=function(t){$.undef(t)&&(t=!0),"end"!==$.cr.state&&($.cr.timer.stop(),t&&$.cr.timeline.endpoint<$.cr.timeline.duration&&$.cr.goto($.cr.timeline.endpoint),$.cr.ctrlclass.style.setProperty($.pfx+"animation-play-state","paused"),$.cr.state="end",EvBus.send("end"))},_$.fn.doLoop=function(t){this.loop--,this.timer.ct=0,this.timer.cf=0,EvBus.send("loop")},_$.fn.getTL=function(){return this.timeline||(this.timeline={duration:20,loops:1}),this.timeline},_$.fn.getTimeData=function(){return{time:this.time,runtime:this.runtime,loop:this.timeline.loops-this.loop}},_$.fn.at=function(t,e){$(this.stage).at(t,e)},$.fn.data=function(t,e){if($.undef(e)&&$.undef(t))return $.cr.getObjData(this.key()).data||{};if($.undef(e)&&"string"==typeof t){var n=$.cr.getObjData(this.key());return n.data&&n.data[t]||""}var r={};return"object"!=typeof t?r[t]=e:r=t,this.each(function(){var t,e,n=$(this);for(e in n.hasClass("adl-obj")&&((n=$.cr.getObjData(n.key())).data=n.data||{},t=n.data),r)t&&(t[e]=r[e]),this.dataset[e]=r[e]})},$.fn.lineHeight=function(t,e,n){if($.undef(e)){var r,a=this.getStyle("lineHeight");return-1<a.indexOf("px")&&(r=parseFloat(this.getStyle("fontSize")),a=parseFloat(a)/r),Math.round(10*parseFloat(a))/10}this.style(t,e,n)},AdlEventBus.prototype.send=function(t,e){if(e||$.log(t),!$.undef(this.listeners[t])){var n=$.cr.getTimeData();n.event=t;for(var r=this.listeners[t].slice(),a=r.length,i=0;i<a;i++){var s,o=r[i];o&&o.callback&&(s=[n].concat(o.args),o.scope instanceof adlayer&&o.scope.each(function(){o.callback.apply(this,s)}))}}"frame"==t&&(t=$.cr.time().toFixed(1)+"s")!=this.t&&(this.t=t,this.send(t,1))},$.getRule=function(t,e){$.ruleIndex[e]||(e="obj");var n=$.cr.getObjData(t);return n.rules=n.rules||{},n.rules[e]||(t=$.mkSel(t,e),n.rules[e]=$.mkCSS(t,{})),n.rules[e]},$.mkSel=function(t,e){e=!!e&&$.ruleIndex[e];return e&&(t+=e),".adl-obj-"+t},$.t2p=function(t){return+(100*t).toFixed(4).slice(0,-1)+"%"},$.fn.timeline=function(t){$.cr.obj[this.key()].timeline=t},$.fn.getTL=function(){var t=this.key(),t=$.cr.getObjData(t);return t.timeline=t.timeline||{},t.timeline},$.fn.anim=function(t,e){return $.undef(e)?this.getTL()[t]:this.each(function(){$(this).getTL()[t]=e})},$.fn.setKey=function(r,a,t,e){r=$.pf(r).toFixed(1);var i={};"string"==typeof a?i[a]={v:t,e:e}:i=a,this.each(function(){var t=$(this).getTL();t.keyfr=t.keyfr||{};var e=t.keyfr,n=(r-$.pf(t.start||0)).toFixed(1);for(a in i)e[a]=e[a]||{kf:{}},$.setKeyVal(e[a],n,i[a].v,i[a].e)})},$.setKeyVal=function(t,e,n,r){var a,i;"string"!=typeof n||(a=$.pf(n))+(i=n.replace(a,""))===n&&(n=a,t.unit=i),t.kf[e]=t.kf[e]||{},t.kf[e].v=n,r&&(t.kf[e].e=r)},$.fn.setKeyValue=function(r,a,i){r=$.pf(r).toFixed(1);var s={};"string"==typeof a?s[a]=i:s=a,this.each(function(){var t=$(this).getTL();t.keyfr=t.keyfr||{};var e=t.keyfr,n=(r-$.pf(t.start||0)).toFixed(1);for(a in s)e[a]=e[a]||{kf:{}},$.setKeyVal(e[a],n,i)})},$.fn.getKeys=function(t){var e=this.getTL();return e.keyfr&&e.keyfr[t]&&e.keyfr[t].kf||!1},$.ruleit=function(t){var e="obj",n=t.split("_");return 1<n.length&&(e=n[0],t=n[1]),t=$.cssify(t),"obj"==e&&t.match($.ctstyles)&&(e="ct"),{rule:e,style:t}},$.fn.style=function(t,e,n){if("adl--stage"==this.key())return this.basestyle(t,e);var r=$.undef(e);return"string"==typeof t&&r?this.getStyle(t):$.undef(n)?this.each(function(){$(this).basestyle(t,e)}):(this.setKeyValue(n,t,e),this.buildTLRules(t))},$.fn.getStyle=function(t){var e=window.getComputedStyle,n=this.key(),r=t,a=this[0],i="adl--stage";n==i&&"borderRadius"!==t&&-1<t.indexOf("border")?f="curtain":n==i?f="ct":"btext"!==this.type()&&(f=(o=$.ruleit(t)).rule,t=o.style);var s,o=$.getRule(n,f),f=$.select(o.selectorText);if(f)return f=e(f)[t],n!==i&&this.getKeys(r)?s=this.getTL().keyfr[r].unit||"":(r=o.style[t],$.undef(r)||""===r||(o=$.pf(r),s=r.replace(o,""))),"%"==s&&("left"==t?t="width":"top"==t&&(t="height"),t=$.pf(e(a.parentNode)[t]),f=$.pf(($.pf(f)/t*100).toFixed(3))+"%"),f},$.fn.basestyle=function(t,e){var n="string"==typeof t;if($.undef(e)&&n)return this.getStyle(t);var s={};return n?s[t]=e:s=t,this.each(function(){var t,e,n,r,a=$(this),i=a.key();for(r in s)s.hasOwnProperty(r)&&(t=s[r],"obj"==(e=$.ruleit(r)).rule&&-1<r.indexOf("padding")&&(e.rule="txt"),"btext"==a.type()&&(e.rule="obj"),n=$.getRule(i,e.rule),r=$.dict[e.style]||e.style,"adl--stage"==i?"top"!=r&&"left"!=r&&(-1<r.indexOf("border")&&($.getRule(i,"curtain").style[r]=t),-1<["width","height"].indexOf(r)?$.getRule(i,"obj").style[r]=t:(r.indexOf("border")<0||0<r.indexOf("adius"))&&($.getRule(i,"ct").style[r]=t)):(0!=r.indexOf("animation")&&0!=r.indexOf("transform")||(r=$.pfx+r),n.style[r]=t))})},$.trfbase={translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,scaleX:1,scaleY:1,skewX:0,skewY:0},$.fn.transform=function(n,r,t){if($.undef($.trfbase[n]))return!1;var e=$.undef(r),a="string"==typeof n,i=$.undef(t);if(a&&e){e=this.getKeys(n);if(e){var s=this.getTL();return i&&(t=$.cr.time),(r=$.getValueAtTime(t-$.pf(s.start),$.fixEasings(e)))+(s.keyfr[n].unit||"")}if("translateX"==n||"translateY"==n)return n="translateX"==n?"left":"top",this.basestyle(n);s=this.trf();return($.undef(s[n])?$.trfbase:s)[n]}return i||"_base"===t?"translateX"==n||"translateY"==n?(n="translateX"==n?"left":"top",this.basestyle(n,r)):this.each(function(){var t=$(this),e=t.trf();e[n]=r,r=(r=$.mkTrfCSS(e)).replace(";",""),t.basestyle("transform",r),t.buildTLRules(n)}):(this.setKeyValue(t,n,r),this.buildTLRules(n))},$.fn.trf=function(){var t=this.getTL();return t.trf=t.trf||{},t.trf},$.mkTrfCSS=function(t){var e=$.apply(t),n="",r=e.translateX,t=e.translateY;$.undef(r)&&$.undef(t)||(n="translate3d("+($.undef(r)?"0px":r)+", "+($.undef(t)?"0px":t)+", 0px) ",delete e.translateX,delete e.translateY);var a,r=e.scaleX,t=e.scaleY;for(a in $.undef(r)&&$.undef(t)||(e.scale3d=($.undef(r)?1:r)+", "+($.undef(t)?1:t)+", 1",delete e.scaleX,delete e.scaleY),e)"width"!=a&&"height"!=a&&(n+=" "+a+"("+e[a]+")");return n+=";",$.undef(e.width)||(n+="width:"+e.width+";"),$.undef(e.height)||(n+="height:"+e.height+";"),n},$.mkTrfRule=function(t){var e=t.keyfr;if(e){function n(t,e){d[$.insRule]($.t2p(t)+" { "+$.pfx+"transform: "+e+"}")}var r,a,i,s=$.pf(t.start),o=s+$.pf(t.dur),f=0,l=$.pf($.cr.getTL().duration),c=s/l,u=.03333/l,d=t.rules.trf,p="",h={},m={},y=!1,g=0,v=!1;for(i in $.trfbase)e[i]&&e[i].kf&&$.okeys(e[i].kf).length?(m[i]=$.fixEasings(e[i].kf),v=!0):t.trf&&t.trf[i]&&t.trf[i]!=$.trfbase[i]&&(m[i]={0:{v:t.trf[i]}});if(v||(m={}),e.width&&e.width.kf&&$.okeys(e.width.kf).length&&(m.width=$.fixEasings(e.width.kf)),e.height&&e.height.kf&&$.okeys(e.height.kf).length&&(m.height=$.fixEasings(e.height.kf)),!$.okeys(m).length)return null;do{for(i in m){var b="";e[i]&&(b=e[i].unit),r=$.getValueAtTime(f,m[i]),h[i]=r+(b||"")}}while(a=$.mkTrfCSS(h),0==f&&0<s&&n(0,a),a!==p?(y&&n(c-u,p),n(c,a),p=a,y=!1,g=c):y=!0,c+=u,(f+=.03333)<=o&&c<=1);return a&&(y||o<l||g<1)&&n(1,a),a&&-1<a.indexOf("scale")}},$.getValueAtTime=function(t,e){t=+t.toFixed(3);var n=$.okeys(e);n.sort(function(t,e){return t-e});var r=n.length;if(1==r||t<=$.pf(n[0]))return e[n[0]].v;if(t>=$.pf(n[r-1]))return e[n[r-1]].v;for(var a,i,s,o=-1;a=n[++o],i=n[o+1]||t,$.pf(i)<t;);if(s=e[a],t==a)return s.v;r=(t-a)/(i-a),e=$.pf(e[i].v)-$.pf(s.v),r=$.yFromX(r,s.ev[0],s.ev[1],s.ev[2],s.ev[3]);e=$.pf(s.v)+r*e;return $.pf(e.toFixed(3))},$.yFromX=function(t,e,n,r,a){function i(t){return $.bezier(t,{x:0,y:0},{x:e,y:n},{x:r,y:a},{x:1,y:1})}for(var s=0,o=1,f=(o+s)/2,l=i(f),c=0;c<20&&1e-4<Math.abs(t-l.x);)c++,t>l.x?s=f:o=f,l=i(f=(o+s)/2);return l.y},$.bezier=function(t,e,n,r,a){var i=Math.pow(t,3),s=Math.pow(t,2),o=3*(n.x-e.x),f=3*(r.x-n.x)-o,l=a.x-e.x-o-f,c=3*(n.y-e.y),n=3*(r.y-n.y)-c,a=a.y-e.y-c-n;return{x:l*i+f*s+o*t+e.x,y:a*i+n*s+c*t+e.y}},$.fixEasings=function(t){var e,n,r=$.okeys(t||{});if(!r.length)return t;r.sort(function(t,e){return t-e}),r.reverse();var a=!1,i={};for(e in r){var s,o=t[n=""+r[e]].e||"in-out",f=[0,0,1,1];switch(a&&(f[2]=.58),o){case"in-out":a=!0,f[0]=.42;break;case"in":a=!0;break;case"out":a=!1,f[0]=.42;break;case"lin":a=!1}s="cubic-bezier("+f.join(",")+")",i[n]={e:s,v:t[n].v,ev:f}}return i},$.buildPresetKeyframes=function(t){if(t.keyfr={},t.inanim&&t.inkeyframes){var e=t.inkeyframes;for(a in t.indur=t.indur||1,e)for(var n in t.keyfr[a]={kf:{}},e[a].unit&&(t.keyfr[a].unit=e[a].unit),e[a].kf){var r=($.pf(n)*$.pf(t.indur)).toFixed(1);t.keyfr[a].kf[r]=e[a].kf[n]}}if(t.outanim&&t.outkeyframes){var a,i=t.outkeyframes;for(a in t.outdur=t.outdur||1,i)for(var n in t.keyfr[a]=t.keyfr[a]||{kf:{}},i[a].unit&&(t.keyfr[a].unit=i[a].unit),i[a].kf){r=($.pf(t.dur)-(1-$.pf(n))*$.pf(t.outdur)).toFixed(1);t.keyfr[a].kf[r]=i[a].kf[n]}}return t},$.fn.reAnimate=function(){return this.length&&(this.each(function(){this.style.setProperty($.pfx+"animation","none"),this.firstElementChild&&this.firstElementChild.style.setProperty($.pfx+"animation","none")}),$.cr.stage.offsetWidth,this.each(function(){this.style.setProperty($.pfx+"animation",""),this.firstElementChild&&this.firstElementChild.style.setProperty($.pfx+"animation","")})),this},$.fn.buildTLRules=function(V){var H,J,Z,q,W,G;V&&"string"!=typeof V?V=$.okeys(V):V&&(1<Object.keys($.trfbase).indexOf(V)&&(V="trf"),V=[V]),$.cr.format&&(H=$.insRule,Z=$.cr.format?"_"+$.cr.format:"",q=$.pfx+"animation-name: tmp;",W=$.pf($.cr.getTL().duration),G=$.pfx+"animation-timing-function: ",this.each(function(){var t=$(this),e=t.key(),n=$.cr.getObjData(e);if("adl--stage"!=e&&"n"!=n.isactive){var r,a,i="btext"==t.type(),s={obj:[]},o={obj:[]},f="tl_"+e+Z,l=t.getTL(),c=!1;if((l.inanim||l.outanim)&&(V=!(c=!0),l=$.buildPresetKeyframes(l)),l.rules){for(a in l.rules)if(!(V&&V.indexOf(a)<0)&&(F=l.rules[a])&&F.cssRules){for(r=F.cssRules;r.length;){var u=r[r.length-1].keyText,u=+$.pf(u).toFixed(3);if($.isIE()||(u+="%"),!F.findRule(u))break;F.deleteRule(u)}if(r.length)return}}else l.rules={},J=$.mkSel(e),l.rules.obj=$.mkCSS(J,q),J+=">.adl-obj-content",l.rules.ct=$.mkCSS(J,q);for(var d=l.rules,p=$.pf(l.start),h=p+$.pf(l.dur),m=p,y=h,g=!1,v=0,b=!1,x=0,k=W,_=$(this.parentNode.parentNode);"adl--stage"!==_.key();){var w,j=_.getTL();j.keyfr&&((w=j.keyfr.scaleX)&&w.kf&&$.okeys(w.kf).length&&(b=!0),(w=j.keyfr.scaleY)&&w.kf&&$.okeys(w.kf).length&&(b=!0)),j.start>m&&(m=j.start),y>j.start+j.dur&&(y=j.start+j.dur),v||(x=j.start,k=j.start+j.dur,v=1),_=$(_[0].parentNode.parentNode)}var S,O=0<m?$.t2p(m/W):"0%",E=y<W?$.t2p(y/W):"100%",A=m<h&&p<y,C=l.keyfr;if(A&&C)for(var T in C){var B=C[T],R=B.kf;if(R&&$.undef($.trfbase[T])&&"width"!=T&&"height"!=T){var L=$.okeys(R);if(L.length){var D=f+"_"+T,N=$.ruleit(T),F=N.rule;if(!V||-1<V.indexOf(T)){d[T]||(d[T]=$.mkKfRule(D));var P,z=d[T],I=B.unit||"",Y="0%",X=$.fixEasings(R);for(P in L.sort(function(t,e){return t-e}),L){var K=X[L[P]];if(!$.undef(K.v)){var M=K.v;"opacity"==T&&0==M&&(M=1e-4);var U=N.style+":"+M+I+";";if(0<(M=$.pf(L[P]))+p&&(Y=$.t2p((M+p)/W)),0==P&&"0%"!==Y&&z[H]("0%{ "+U+"}"),W<M+p){z[H]("100%{ "+U+"}");break}z[H](Y+"{"+U+G+K.e+"}"),P==L.length-1&&"100%"!==Y&&(M<h&&"100%"!==E&&z[H](E+"{ "+U+"}"),z[H]("100%{"+U+"}"))}}}i&&(F="obj"),s[F]=s[F]||[],s[F].push(D),o[F]=o[F]||[],o[F].push("linear")}}}for(F in A&&!i&&(D=f+"_trf",d.trf||(d.trf=$.mkKfRule(D)),null!==(g=$.mkTrfRule(l))&&(s.obj.push(D),o.obj.push("linear"))),D=f+"_vis",d.vis||(d.vis=$.mkKfRule(D)),s.obj.push(D),o.obj.push("step-end"),V||A&&m<=x&&k<=y&&A?V||(o.obj.pop(),s.obj.pop()):(n=d.vis,A?(t="{"+G+" step-end;",S=(A=(g=A&&(g||b)&&0<m&&!i)?"opacity: ":"visibility:")+(g?"1":"visible")+";}",g=A+(g?"0.0001":"hidden")+";}",0<m&&(n[H]("0%"+t+g),n[H]("0.01%"+t+g)),n[H](O+t+S),"100%"!=E?(n[H](E+"{"+G+" step-start;"+g),n[H]("100%{"+g)):n[H]("100%{"+S)):(S="visibility: hidden;}",n[H]("0%{"+S),n[H]("100%{"+S))),s)d[F]||($.ruleIndex[F]?(J=$.mkSel(e,F),d[F]=$.mkCSS(J,q)):F="ct"),d[F].style.setProperty($.pfx+"animation-name",s[F].join(",")),d[F].style.setProperty($.pfx+"animation-timing-function",o[F].join(","));c&&delete l.keyfr}}),this.reAnimate())},$.mkKfRule=function(t){var e=$.cr.sheet,n=e.cssRules,t="@"+$.pfx+"keyframes "+t+" {}";return e.insertRule(t,n.length),n[n.length-1]}}function _loadScenes(){_$.fn.prep=function(t){var e=this;e.time={start:0,init:0},e.time.init=$.now(),e.scene=0,e.scenes=t.scenes||[{id:"_base"},{id:1,title:"Scene 1"}],e.sceneid=e.scenes.length-1,e.anims={},e.maxloops=t.maxloops||1,e.loop=0,e.endframe=t.endframe||0,e.repeat=null,e.repeatprev=null,e.newobjects=[]},_$.fn.run=function(){var t=$.cr;if(!$.d.documentElement.clientWidth)return window.addEventListener("resize",t.run);window.removeEventListener("resize",t.run),t.time.start=$.now();function e(){n.autoSize()}var n=$(".adl-obj-text.adl-txtShrink");e(),setTimeout(e,500),setTimeout(e,1e3),setTimeout(e,3e3),"Ready"==t.state&&(EvBus.send("start"),t.play())},_$.fn.goto=function(t){var e=this;e.scene=t;var n=e.stage;n.dataset.scene&&n.classList.remove("adl-scene-"+e.stage.dataset.scene),null!==e.repeatprev&&(n.classList.add("no-animation","adl-scene-"+e.repeatprev),n.offsetWidth,n.classList.remove("adl-scene-"+e.repeatprev,"no-animation"));e=e.scenes[t].id;n.dataset.scene=e,n.classList.add("adl-scene-"+e),EvBus.send("scene"),$.log("Scene: "+t)},_$.fn.play=function(t){var e=this;if(e.stage.style.opacity="","end"!==e.state){e.state="playing",t=t||1;var n=e.scenes[t];if(n){var r,a=n.dur||3,i=n.then||"next";"repeat"==i?null===e.repeat?(e.repeatprevx=e.scene,t==e.scene&&(e.repeatprevx=0),$.undef(n.repeat)&&(n.repeat=1),e.repeat=parseInt(n.repeat)):"number"==typeof e.repeat&&(e.repeatprev=e.repeatprevx,1==e.repeat?(i=n.repeatthen||"next",e.repeat=null):e.repeat--):e.repeatprev=null;var s=e.scenes[t].id;if(null===e.repeat&&(s==e.endframe||!e.endframe&&t==e.scenes.length-1)&&e.maxloops&&(e.loop++,e.prop("loop")>=e.prop("maxloops")&&(i="end")),"goto"==i&&n.goto)for(var o=1;o<e.scenes.length;o++)if(e.scenes[o].id==n.goto){var f=o;break}switch(i){case"stop":break;case"end":case"loop":setTimeout(function(){e.doLoop()},1e3*a);break;case"next":r=t+1;case"goto":r=parseInt(r||f||e.scenes.length-1),e.scenes[r]?setTimeout(function(){e.play(r)},1e3*a):setTimeout(function(){e.doLoop()},1e3*a);break;case"repeat":setTimeout(function(){e.play(t)},1e3*a);break;default:setTimeout(function(){e.doLoop()},1e3*a)}}else $.log("NO SCENE");e.goto(t)}else e.end()},_$.fn.stop=function(){this.state="stop",EvBus.send("stop")},_$.fn.end=function(){this.state="end",EvBus.send("end")},_$.fn.doLoop=function(){0==this.maxloops||this.loop<this.maxloops?(EvBus.send("loop"),this.play(1)):this.end()},_$.fn.dur=function(){return $.now()-this.time.start},_$.fn.getObjScene=function(t,e){e="adl-stage"==t?"_base":(e=e||"_base",this.getScene(e).id),t=this.getObjData(t);return t.scenes=t.scenes||{},t.scenes[e]=t.scenes[e]||{},t.scenes[e]},_$.fn.getScenes=function(){return this.scenes},_$.fn.getScene=function(t){return"_base"==(t=t||this.scene||"_base")?{id:"_base"}:this.scenes[t]||{}},_$.fn.selScene=function(t){return t=this.getScenes().length<3?"_base":t||this.scene},_$.fn.getSceneId=function(t){return t=t||this.scene||"_base",this.getScene(t).id},$.getObjRule=function(t,e){var n=$.getSheets(t,e,1);return n.obj||(e=$.cr.getScene(e).id,t=$.mkSel(e,t,1),n.obj=$.mkCSS(t,{})),n.obj},$.fn.isactive=function(t,e,n){this.sceneData("isactive",t,n)},$.fn.sceneData=function(e,n,r){if(r=r||$.cr.scene,$.undef(n)){var t=$.cr.getObjScene(this.key(),r,1);return"isactive"==e?"n"==t[e]?"n":"y":t[e]}return r?this.each(function(){var t=$(this);"stage"!=t.type()&&(t=t.key(),$.cr.getObjScene(t,r,1)[e]=n,"isactive"==e&&($.getObjRule(t,r).style.visibility="n"==n?"hidden":"visible"))}):this},$.fn.data=function(t,e){if($.undef(e)&&$.undef(t))return $.cr.getObjData(this.key()).data||{};if($.undef(e)&&"string"==typeof t){var n=$.cr.getObjData(this.key());return n.data&&n.data[t]||""}var a={};return"object"!=typeof t?a[t]=e:a=t,this.each(function(){var t,e,n,r=$(this);for(n in r.hasClass("adl-obj")?((e=$.cr.getObjData(r.key())).data=e.data||{},t=e.data):r.hasClass("cb--scene")&&(t=$.cr.getScene()[r.data("scene")]),a)t&&(t[n]=a[n]),this.dataset[n]=a[n]})},$.fn.style=function(t,e,o,n){(!(o=o||$.cr.scene)||$.cr.multi&&$.cr.getScenes().length<3)&&(o="_base");var r="obj";if(!$.undef(e)||"string"!=typeof t){var f={};return $.undef(e)||"string"!=typeof t?f=t:f[t]=e,this.each(function(){var t=$(this),e=t.key();for(s in f)if(f.hasOwnProperty(s)){var n=f[s],r="obj",a=s.split("_");1<a.length?(r=a[0],s=a[1]):$.cssify(s).match($.ctstyles)&&(r="ct"),"obj"==r&&-1<s.indexOf("padding")&&(r="txt");var i=t.getRule(r,o),s=$.dict[s]||s;if("adl--stage"==e)"top"!=s&&"left"!=s&&(-1<s.indexOf("border")&&(t.getRule("curtain").style[s]=n),-1<["width","height"].indexOf(s)?t.getRule("obj").style[s]=n:(s.indexOf("border")<0||0<s.indexOf("adius"))&&(t.getRule("ct").style[s]=n));else{if(-1<["animation","transform"].indexOf(s))try{i.style["-webkit-"+s]=n}catch(t){}i.style[s]=n}}})}var a=this.key();"adl--stage"==a&&-1<t.indexOf("border")&&"borderRadius"!==t?r="curtain":"adl--stage"==a?r="ct":(1<(a=t.split("_")).length&&(r=a[0],t=a[1]),"obj"==r&&$.cssify(t).match($.ctstyles)&&(r="ct"));var r=this.getRule(r,o),i=$.select(r.selectorText);if(i){if(""!==r.style[t])return r.style[t];i.matches=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;var s,l=$.cr.sheet.rules,c=0,e="";for(s in l)i.matches(l[s].selectorText)&&""!==l[s].style[t]&&l[s].selectorText.length>c&&(e=l[s].style[t],c=l[s].selectorText.length);return""==e?getComputedStyle(i)[t]:e}},$.fn.getRule=function(t,e){var n=this.key();e="adl--stage"!=n&&e||"_base",$.ruleIndex[t]||(t="obj");var r=$.getSheets(n,e);return r[t]||(n=this.key(),e=$.cr.getScene(e).id,n=$.mkSel(e,n),n+=$.ruleIndex[t],r[t]=$.mkCSS(n,{})),r[t]},$.getSheets=function(t,e){e=$.cr.getObjScene(t,e);return e.rules||(e.rules={}),e.rules},$.mkSel=function(t,e){t="_base"!=t&&"adl--stage"!==e?".adl-scene-"+t+" ":"";return t&&"adl--stage"!=e&&(t+=" "),t+=".adl-obj-"+e},$.fn.transform=function(t,e,n){var r;n=$.cr.selScene(n);var a,i=$.untrf(this.style("transform",r,n)),s=t.slice(-1);if(t=t.slice(0,-1),$.undef(e)){if(!$.undef(i[t])&&!$.undef(i[t][s]))return i[t][s];i=$.untrf(this.style("transform",r,"_base"));if(!$.undef(i[t])&&!$.undef(i[t][s]))return i[t][s];var o=$.cr.format;$.cr.format=0;i=$.untrf(this.style("transform",r,n));if($.cr.format=o,!$.undef(i[t])&&!$.undef(i[t][s]))return i[t][s];$.cr.format=0;i=$.untrf(this.style("transform",r,"_base"));return $.cr.format=o,$.undef(i[t])||$.undef(i[t][s])?0:i[t][s]}for(a in i[t]=i[t]||{},i[t][s]=e,e="",i)for(var f in i[a])e+=a+f+"("+i[a][f]+") ";this.style("transform",e,n)},$.untrf=function(t){var e={};if(t&&t.indexOf("matrix")<0&&t.indexOf("none")){t=t.split(" ");for(var n=0;n<t.length;n++){var r=t[n].split("("),a=r[1].split(")")[0],i=r[0].slice(-1);e[r=r[0].slice(0,-1)]=e[r]||{},e[r][i]=a}}return e},$.fn.shift=function(n,r){return this.each(function(){if(_this=$(this),"adl--stage"!=_this.key())for(var t=0;t<$.cr.getScenes().length;t++){var e=_this.getRule("obj",t);$.undef(e.style.left)||(e.style.left=$.pixPerc(e.style.left,n,this.parentNode.offsetWidth)),$.undef(e.style.top)||(e.style.top=$.pixPerc(e.style.top,r,this.parentNode.offsetHeight))}})},$.fn.rect=function(){var t=getComputedStyle(this[0]);return{x:t.left,y:t.top,width:t.width,height:t.height}},$.fn.pos=function(t,e){if($.undef(t)&&$.undef(e))return{x:t=getComputedStyle(this[0]).left,y:e=getComputedStyle(this[0]).top};"object"==typeof t&&$.undef(e)&&(t.x||t.y)&&(e=t.y,t=t.x),!t&&0!=t||this.style("left",t),!e&&0!=e||this.style("top",e)},$.fn.anim=function(s,o,f){if(f=f||$.cr.scene,"string"==typeof s&&$.undef(o)){var t=$.cr.getObjScene(this.key(),f,1);return t&&t.anim&&t.anim[s]||!1}return this.each(function(){var t=$(this).key(),e=$.cr.getObjScene(t,f,1);if(e.anim=e.anim||{},"object"==typeof s)for(var n in s)s.hasOwnProperty(n)&&(e.anim[n]=s[n]);else e.anim[s]=o;var r=$.getObjRule(t,f).style,a="",i="";e.anim.pst&&"none"!==e.anim.pst&&(t=(e.anim.dur||1)+"s "+(e.anim.ease||"ease")+" "+(e.anim.delay||0)+"s","tween"==e.anim.pst?(a="none",i="all "+t):(i="none",a=$.buildKeyframes(e.anim)+" "+t+" both")),r["-webkit-animation"]=a,r["-webkit-transition"]=i,r.animation=a,r.transition=i})},$.buildKeyframes=function(t){var e=$.animations,n=t.pst&&e&&e[t.pst]?e[t.pst]:t,r=n.keyframes;if(r){var a,i="";for(a in r)if(r.hasOwnProperty(a)){var s,o="";for(s in r[a])if(r[a].hasOwnProperty(s)){var f=r[a][s];if("string"==typeof f&&n.vars){var l,c=t.varx||Object.keys(n.vars)[0];for(l in n.vars[c])n.vars[c].hasOwnProperty(l)&&(f=f.replace(l,n.vars[c][l]));n.params.vary&&($.undef(t.vary)&&(t.vary=n.params.vary.value),f=f.replace(/_Y/g,t.vary)),n.params.varz&&($.undef(t.varz)&&(t.varz=n.params.varz.value),f=f.replace(/_Z/g,t.varz))}o+=s+": "+f+"; "}i+=a+" {"+o+"} "}var u="anim"+$.hash(i);$.cr.anims[u]||($.cr.anims[u]=i,$.mkKeyframes(u,i))}return u},$.fn.scene=function(t,e,n){n=n||$.cr.scene;var r=$.cr.getScenes();n>r.length&&(n=r.length);var a=r[n];if("string"==typeof t&&$.undef(e))return a[t]||"";if("object"==typeof t){for(var i in t)t.hasOwnProperty(i)&&(a[i]=t[i]);return this}a[t]=e},$.fn.scenes=function(t){var e=this.key();if(Array.isArray(t)){var n,r={};for(n in Object.keys(t))n.hasOwnProperty(n)&&(r[n]=t[n]);t=r}$.cr.getObjData(e,!0).scenes=t;var a,i=$.cr.getScenes();for(a in i)if(i.hasOwnProperty(a)){var s=i[a].id;if(t[s])for(var o in t[s])"function"==typeof this[o]&&this[o](t[s][o],!0,a)}return this},$.fn.addChild=function(t){var e=this.type();if(["stage","group","container"].indexOf(e)<0)return!1;var n=$(t);n.ungroup();var r=this[0].getBoundingClientRect(),a=$.cr.formats[$.cr.format].stage.getBoundingClientRect(),e=r.left-a.left,a=r.top-a.top;return this.ctNode(1).appendChild(t),n.data("group",this.key()),n.shift(-e,-a),this},$.fn.ungroup=function(){return this.each(function(){var t=$(this),e=this.parentNode.parentNode;if("adl--stage"!=e.dataset.key){for(var n=e.getBoundingClientRect(),r=$.cr.formats[$.cr.format].stage,a=r.getBoundingClientRect(),i=n.left-a.left,a=n.top-a.top;"adl--stage"!==e.parentNode.parentNode.dataset.key;)e=e.parentNode.parentNode;$(r).ctNode(1).insertBefore(this,e),t.data("group","adl--stage"),t.shift(i,a)}})},$.fn.lineHeight=function(t,e,n){if($.undef(e)){var r,a=this.style(t);return-1<a.indexOf("px")&&(r=parseFloat(this.style("fontSize")),a=parseFloat(a)/r),Math.round(10*parseFloat(a))/10}this.style(t,e,n)},AdlEventBus.prototype.send=function(t){$.log(t);var e={event:t,time:parseInt($.now()-$.cr.time.start),scene:$.cr.scene,loop:$.cr.loop};if("scene"==t&&this.send("scene_"+e.scene),!$.undef(this.listeners[t]))for(var n=this.listeners[t].slice(),r=n.length,a=0;a<r;a++){var i,s=n[a];s&&s.callback&&(i=[e].concat(s.args),s.scope instanceof adlayer&&s.scope.each(function(){try{s.callback.apply(this,i)}catch(t){}}))}},adl.animations={_all:{params:{dur:{func:"anim",label:"Duration (seconds)",input:"number",value:1,step:.1},ease:{func:"anim",label:"Easing",input:"select",options:{ease:"Ease",linear:"Linear","ease-in-out":"Ease In & Out","ease-in":"Ease In","ease-out":"Ease Out"}},delay:{func:"anim",label:"Delay (seconds)",input:"number",value:0,step:.1}}},bounce:{style:{transformOrigin:"center bottom"},keyframes:{"from, 20%, 53%, 80%, to":{animationTimingFunction:"cubic-bezier(0.215, 0.610, 0.355, 1.000)",transform:"translate3d(0,0,0)"},"40%, 43%":{animationTimingFunction:"cubic-bezier(0.755, 0.050, 0.855, 0.060)",transform:"translate3d(0, -30px, 0)"},"70%":{animationTimingFunction:"cubic-bezier(0.755, 0.050, 0.855, 0.060)",transform:"translate3d(0, -15px, 0)"},"90%":{transform:"translate3d(0,-4px,0)"}}},flash:{keyframes:{"from, 50%, to":{opacity:1},"25%, 75%":{opacity:0}}},pulse:{keyframes:{from:{transform:"scale3d(1, 1, 1)"},"50%":{transform:"scale3d(1.05, 1.05, 1.05)"},to:{transform:"scale3d(1, 1, 1)"}}},shake:{keyframes:{"from, to":{transform:"translate3d(0, 0, 0)"},"10%, 30%, 50%, 70%, 90%":{transform:"translate3d(-10px, 0, 0)"},"20%, 40%, 60%, 80%":{transform:"translate3d(10px, 0, 0)"}}},headshake:{style:{animationTimingFunction:"ease-in-out"},keyframes:{"0%":{transform:"translateX(0)"},"6.5%":{transform:"translateX(-6px) rotateY(-9deg)"},"18.5%":{transform:"translateX(5px) rotateY(7deg)"},"31.5%":{transform:"translateX(-3px) rotateY(-5deg)"},"43.5%":{transform:"translateX(2px) rotateY(3deg)"},"50%":{transform:"translateX(0)"}}},tada:{keyframes:{from:{transform:"scale3d(1, 1, 1)"},"10%, 20%":{transform:"scale3d(.9, .9, .9) rotate3d(0, 0, 1, -3deg)"},"30%, 50%, 70%, 90%":{transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)"},"40%, 60%, 80%":{transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg)"},to:{transform:"scale3d(1, 1, 1)"}}},wobble:{keyframes:{from:{transform:"none"},"15%":{transform:"translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg)"},"30%":{transform:"translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg)"},"45%":{transform:"translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg)"},"60%":{transform:"translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg)"},"75%":{transform:"translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg)"},to:{transform:"none"}}},jello:{style:{transformOrigin:"center"},keyframes:{"from, 11.1%, to":{transform:"none"},"22.2%":{transform:"skew(-12.5deg,-12.5deg)"},"33.3%":{transform:"skewX(6.25deg,6.25deg)"},"44.4%":{transform:"skewX(-3.125deg,-3.125deg)"},"55.5%":{transform:"skewX(1.5625deg,1.5625deg)"},"66.6%":{transform:"skewX(-0.78125deg,-0.78125deg)"},"77.7%":{transform:"skewX(0.390625deg,0.390625deg)"},"88.8%":{transform:"skewX(-0.1953125deg,-0.1953125deg)"}}},slideIn:{params:{varx:{func:"anim",label:"From",input:"select",options:{left:"Left",right:"Right",top:"Top",bottom:"Bottom"}},vary:{func:"anim",label:"Distance",input:"number",value:"1000px",units:{"%":"%",px:"px"}}},vars:{left:{_A:"-_Y",_B:0},right:{_A:"_Y",_B:0},top:{_A:0,_B:"-_Y"},bottom:{_A:0,_B:"_Y"}},keyframes:{from:{transform:"translate(_A, _B)"},to:{transform:"translate(0, 0)"}}},slideOut:{params:{varx:{func:"anim",label:"To",input:"select",options:{left:"Left",right:"Right",top:"Top",bottom:"Bottom"}},vary:{func:"anim",label:"Distance",input:"number",value:"1000px",units:{"%":"%",px:"px"}}},vars:{left:{_A:"-_Y",_B:0},right:{_A:"_Y",_B:0},top:{_A:0,_B:"-_Y"},bottom:{_A:0,_B:"_Y"}},keyframes:{from:{transform:"translate(0,0)"},to:{transform:"translate(_A, _B)"}}},fadeIn:{params:{varz:{func:"anim",label:"Start opacity",input:"range",min:0,max:1,step:.01,value:"0"},varx:{func:"anim",label:"Direction",input:"select",options:{normal:"None",down:"Down",up:"Up",left:"Left",right:"Right"}},vary:{func:"anim",label:"Distance",input:"number",value:"100%",units:{"%":"%",px:"px"}}},vars:{normal:{_A:"0, 0"},down:{_A:"0, _Y"},up:{_A:"0, -_Y"},left:{_A:"-_Y, 0"},right:{_A:"_Y,0"}},keyframes:{from:{opacity:"_Z",transform:"translate(_A)"},to:{transform:"translate(0,0)"}}},fadeOut:{params:{varz:{func:"anim",label:"End opacity",input:"range",min:0,max:1,step:.01,value:"0"},varx:{func:"anim",label:"Direction",input:"select",options:{normal:"None",down:"Down",up:"Up",left:"Left",right:"Right"}},vary:{func:"anim",label:"Distance",input:"number",value:"100%",units:{"%":"%",px:"px"}}},vars:{normal:{_A:"0, 0"},down:{_A:"0, _Y"},up:{_A:"0, -_Y,"},left:{_A:"-_Y, 0"},right:{_A:"_Y, 0"}},keyframes:{from:{transform:"translate(0,0)"},to:{opacity:"_Z",transform:"translate(_A)"}}},bounceIn:{keyframes:{"from, 20%, 40%, 60%, 80%, to":{animationTimingFunction:"cubic-bezier(0.215, 0.610, 0.355, 1.000)"},"0%":{opacity:0,transform:"scale(.3, .3)"},"20%":{transform:"scale(1.1, 1.1)"},"40%":{transform:"scale(.9, .9)"},"60%":{opacity:1,transform:"scale(1.03, 1.03)"},"80%":{transform:"scale(.97, .97)"},to:{opacity:1,transform:"scale(1, 1)"}}},bounceInFrom:{params:{varx:{func:"anim",label:"From",input:"select",options:{left:"Left",right:"Right",top:"Top",bottom:"Bottom"}}},vars:{left:{_A:"-3000px, 0, 0",_B:"25px,0, 0",_C:"-10px, 0, 0",_D:"5px, 0, 0"},right:{_A:"3000px, 0, 0",_B:"-25px,0, 0",_C:"10px, 0, 0",_D:"-5px, 0, 0"},top:{_A:"0, -3000px, 0",_B:"0, 25px, 0",_C:"0, -10px, 0",_D:"0, 5px, 0"},bottom:{_A:"0, 3000px, 0",_B:"0, -25px, 0",_C:"0, 10px, 0",_D:"0, -5px, 0"}},keyframes:{"from, 60%, 75%, 90%, to":{animationTimingFunction:"cubic-bezier(0.215, 0.610, 0.355, 1.000)"},"0%":{opacity:0,transform:"translate3d(_A)"},"60%":{opacity:1,transform:"translate3d(_B)"},"75%":{transform:"translate3d(_C)"},"90%":{transform:"translate3d(_D)"},to:{transform:"none"}}},bounceOut:{keyframes:{"20%":{transform:"scale(.9, .9)"},"50%, 55%":{opacity:1,transform:"scale(1.1, 1.1)"},to:{opacity:0,transform:"scale(.3, .3)"}}},bounceOutTo:{params:{varx:{func:"anim",label:"To",input:"select",options:{left:"Left",right:"Right",top:"Top",bottom:"Bottom"}}},vars:{left:{_A:"5px, 0, 0",_B:"-10px,0, 0",_C:"25px,0, 0",_D:"-2000px, 0, 0"},right:{_A:"-5px, 0, 0",_B:"10px,0, 0",_C:"-25px,0, 0",_D:"2000px, 0, 0"},top:{_A:"0, 5px, 0",_B:"0, -10px, 0",_C:"0, 25px, 0",_D:"0, -2000px, 0"},bottom:{_A:"0, -5px, 0",_B:"0, 10px, 0",_C:"0,-25px, 0",_D:"0, 2000px, 0"}},keyframes:{"from, 20%, 40%, 60%, to":{animationTimingFunction:"cubic-bezier(0.215, 0.610, 0.355, 1.000)"},"20%":{transform:"translate3d(_A)"},"40%":{transform:"translate3d(_B)"},"60%":{opacity:1,transform:"translate3d(_C)"},to:{opacity:0,transform:"translate3d(_D)"}}},scale:{params:{varx:{func:"anim",label:"Direction",input:"select",options:{from:"From",to:"To"}},vary:{func:"anim",label:"Size",input:"number",value:"0.5",step:"0.5"}},vars:{to:{_A:"1, 1",_B:"_Y, _Y"},from:{_B:"1, 1",_A:"_Y, _Y"}},keyframes:{from:{transform:"scale(_A)"},to:{transform:"scale(_B)"}}},zoomIn:{keyframes:{from:{opacity:0,transform:"scale(.3, .3)"},"50%":{}}},zoomOut:{params:{},keyframes:{from:{},"50%":{opacity:0,transform:"scale(.3, .3)"},to:{opacity:0}}},swing:{style:{transformOrigin:"top center",backfaceVisibility:"hidden",transform:"translateZ(0) scale(1.0, 1.0)"},keyframes:{"20%":{transform:"rotate(15deg)"},"40%":{transform:"rotate(-10deg)"},"60%":{transform:"rotate(5deg)"},"80%":{transform:"rotate(-5deg)"},to:{transform:"rotate(0deg)"}}},rubberband:{style:{backfaceVisibility:"hidden",transform:"translateZ(0) scale(1.0, 1.0)"},keyframes:{from:{transform:"scale(1, 1)"},"30%":{transform:"scale(0.85, 0.85)"},"40%":{transform:"scale(1.15, 1.15)"},"50%":{transform:"scale(0.85, 0.85)"},"65%":{transform:"scale(1.05, 1.05)"},"75%":{transform:"scale(0.95, .95)"},to:{transform:"scale(1, 1)"}}},lightspeedIn:{params:{varx:{func:"anim",label:"From",input:"select",options:{left:"Left",right:"Right"}}},ease:"ease-out",vars:{right:{_A:"1000px",_B:"-20deg",_C:"-15deg",_D:"5deg"},left:{_A:"-1000px",_B:"20deg",_C:"15deg",_D:"-5deg"}},keyframes:{from:{transform:"translate(_A, 0) skewX(_B)",filter:"blur(3px)",opacity:0},"30%":{transform:"skewX(_C)",opacity:1},"50%":{transform:"skewX(_D)",opacity:1},to:{transform:"translate(0,0) skewX(0)",filter:"blur(0px)",opacity:1}}},flipInY:{keyframes:{from:{transform:"perspective(1800px) rotate3d(1, 0, 0, 90deg)","transform-origin":"50% 0%","transform-style":"preserve-3d",opacity:0,"animation-timing-function":"ease-in"},to:{transform:"perspective(1800px)","transform-style":"preserve-3d"}},style:{"backface-visibility":"visible !important"}},flipOutY:{keyframes:{from:{transform:"perspective(1000000px)","transform-style":"preserve-3d"},to:{transform:"perspective(1000000px) rotate3d(1, 0, 0, 90deg) translate(0,5px)","transform-origin":"50% 100%","transform-style":"preserve-3d",opacity:0}},style:{"backface-visibility":"visible !important"}}}}function bgExitHandler(){var t,e;"string"==typeof mainExitUrl&&0<mainExitUrl.trim().length?((t=Enabler.getParameter("exit_suffix"))&&0==stopAddingParametersToExitUrl&&(-1<mainExitUrl.indexOf(e="?")&&(e="&"),mainExitUrl=mainExitUrl+e+t,stopAddingParametersToExitUrl=!0),Enabler.exitOverride("main_exit",mainExitUrl)):Enabler.exit("main_exit",backupExitUrl)}function initBanner(){var t=dynamicContent[feedName][0];if(!t||!t.adlData)return console.error("Could not find dynamic data..."),!1;"none"==t.adlData?preAdl(t.image_1.Url):execAdl(t.adlData)}function preAdl(t){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(t){var e;200===this.status&&((e=new FileReader).onload=function(t){for(var e=new DataView(t.target.result),n="",r=0;r<e.byteLength;r++)n+=String.fromCharCode(e.getUint8(r));execAdl(n=(n=n.split("BEGINADL::")[1]).split("::ENDADL")[0])},e.readAsArrayBuffer(n.response))},n.send()}function execAdl(t){var e,n=dynamicContent[feedName][0],r=JSON.parse(atob(t));for(e in r.obj){var a=r.version_data[e];"image"==r.obj[e].type&&a&&0===a.indexOf("image_")&&n[a]&&(r.version_data[e]=n[a].Url||"")}$.cr.autoplay=!1,$.cr.init(r),Enabler.isVisible()?playBanner():Enabler.addEventListener(studio.events.StudioEvent.VISIBLE,playBanner)}function playBanner(){$.cr.autoplay=!0,$.cr.run()}$.adserver={exit:function(t){mainExitUrl=t,bgExitHandler()}};